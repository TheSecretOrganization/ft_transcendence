<div id="wrapper">
	<nav class="navbar">
		<a class="navbar-brand nav navbar-nav navbar-left" data-route href="/">Brand<span class="glyphicon glyphicon-log-in"></span></a>
		<!-- <div class="div-navbar-profile column d-flex justify-content-center"> -->
			<ul id="navbar-list" class="list-group list-group-flush list-group-horizontal-sm list-unstyled nav navbar-nav navbar-right">
				{% if user.is_authenticated %}
					<li><a class="list-group-item" onclick="logout()">Profile</a></li>
				{% else %}
					<li class="m-2"><a class="btn btn-sm btn-success rounded-pill rounded-5" data-route href="/login"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
					<li class="m-2"><a class="btn btn-sm btn-outline-success rounded-pill rounded-5" data-route href="/register"><span class="glyphicon glyphicon-user"></span> Register</a></li>
				{% endif %}
			</ul>
		<!-- </div> -->
	</nav>
</div>

<div id="wrapper">
	<div id="sidebar-wrapper" class="bg-light border toggled">
		<div class="sidebar-heading">ft_transcendence</div>
		<ul id="sidebar-list" class="list-group list-group-flush">
			<li><a class="list-group-item list-group-item-action" data-route href="/">Home</a></li>
			<li><a class="list-group-item list-group-item-action" data-route href="/games">Games</a></li>
			{% if user.is_authenticated %}
				<li><a class="list-group-item list-group-item-action" onclick="logout()">Logout</a></li>
			{% else %}
				<li><a class="list-group-item list-group-item-action" data-route href="/login">Login</a></li>
				<li><a class="list-group-item list-group-item-action" data-route href="/register">Register</a></li>
			{% endif %}
		</ul>
	</div>

	<div id="page-container-wrapper">
		<button id="sidebar-toggle" class="btn btn-primary">â˜°</button>
		{% block content %}{% endblock %}
	</div>
</div>

<script>
	document.getElementById("sidebar-toggle").addEventListener("click", function (e) {
		e.preventDefault();
		document.getElementById("sidebar-wrapper").classList.toggle("toggled");
		this.classList.toggle("toggled");
	});

	document.querySelectorAll('[data-route]').forEach((element) => {
		element.addEventListener("click", (event) => {
			event.preventDefault();
			route(event.target.getAttribute('href'));
		});
	});
</script>
